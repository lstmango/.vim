<?php
/**
 * 订单分配系统分配日志
 * @author lidacheng
 */
class zbj_service_taskallotlog extends zbj_components_baseservice {
	
	protected $id;
	protected $marter_table = 'zbj_model_mk_taskallotlog';
	
	/**
	 * 构造函数
	 */
	public function __construct($id=0) {
		parent::__construct();
		$this->id = $id;
	}
	
	
	/**
	 * 添加需求分配日志
	 * @param	int		$taskid
	 * @param	array		$cont
	 * @return bool
	 * */
	public function addTaskAllotLog($taskid,array $cont){
		$taskid = intval($taskid);
		if($taskid<=0 || empty($cont[0])) return false;
		
		$data = array(
			'task_id'	=> $taskid,
			'cont'		=> implode(',',$cont),
			'createtime'	=> $this->_time,
		);
		
		define('DEBUG',1);
		$allotlogModel = zbj_model_api::get('zbj_model_mk_taskallotlog');
		$back = $allotlogModel->insert($data);
		
		return $back===false?false:true;
	}
}
