一、java的访问方式dubbo
<dependency>
  <groupId>com.zhubajie.worktrack</groupId>
  <artifactId>worktrack-manager-north-api</artifactId>
  <version>1.0.0-SNAPSHOT</version>
</dependency>

二、php的访问方式http,post，
 http://192.168.142.243/api

表单内容，入参
appid;调用方身份，每个调用方全局唯一（传项目调用方的svn名字，名字中有下划线的去掉，有横‘-’的也去掉）
sign;方法参数签名，每次请求签名生成（暂时未使用,现在默认传[zbjsign]）
stamp;时间戳（到1970-1-1的秒数）

service;调用的服务，
method;调用的方法，
param;调用的参数，以下列子中的request的后面一行是demo
service,method举例  首次跟单【FollowFirstService.addFirstFollow】 ，service=FollowFirstService，method=addFirstFollow

出参
json格式：如{"success":true}

三、javadoc，php或者java的同学都可以参看这上面类的字段的说明
  http://192.168.142.243/worktrackjavadoc/

四、方法类说明以及demo,该点主要适用于php同学组装参数


通用表单获取
1,首次跟单，放弃参与该需求
2,会员接到派单，放弃投标
3,申请协助表单
4,首次跟单未联系到雇主
WtCommonService.getFormById
request:
{"data":4}
result:
{"data":{"id":4,"title":"请选择未联系到雇主的原因","type":1,"enable":1,"itemNdtos":[{"id":19,"cfgId":4,"seq":1,"displayTxt":"雇主忙，没时间接电话","allowInput":0,"enable":1},{"id":20,"cfgId":4,"seq":2,"displayTxt":"不接电话","allowInput":0,"enable":1},{"id":21,"cfgId":4,"seq":3,"displayTxt":"电话打不通，电话号码错误（交易顾问会帮助您尽快核实）","allowInput":0,"enable":1},{"id":22,"cfgId":4,"seq":4,"displayTxt":"其他原因","allowInput":1,"enable":1}]},"success":true}

单业务，多道问题表单获取
1：首次跟单,联系到雇主，多道问题
2：二次跟单，多道问题
在保存问题答案的时候questionId,answerId的赋值
questionId=data[0].id
answerId=data[0].itemNdtos[0].id

WtCommonService.getFormsByBizId
request:
{"data":1}
result:
{"data":[{"id":5,"title":"雇主的预算是否符合您的预期","type":3,"enable":1,"itemNdtos":[{"id":23,"cfgId":5,"seq":1,"displayTxt":"符合","allowInput":0,"enable":1},{"id":24,"cfgId":5,"seq":2,"displayTxt":"不符合","allowInput":1,"enable":1}]},{"id":6,"title":"雇主对需求的意向程度","type":3,"enable":1,"itemNdtos":[{"id":25,"cfgId":6,"seq":1,"displayTxt":"需求意向较强","allowInput":0,"enable":1},{"id":26,"cfgId":6,"seq":2,"displayTxt":"意向不强","allowInput":0,"enable":1},{"id":27,"cfgId":6,"seq":3,"displayTxt":"不清楚","allowInput":0,"enable":1}]},{"id":7,"title":"是否有能力帮雇主完成该需求","type":3,"enable":1,"itemNdtos":[{"id":28,"cfgId":7,"seq":1,"displayTxt":"可以完成","allowInput":0,"enable":1},{"id":29,"cfgId":7,"seq":2,"displayTxt":"勉强可以完成","allowInput":0,"enable":1},{"id":30,"cfgId":7,"seq":3,"displayTxt":"有一定的困难","allowInput":0,"enable":1}]},{"id":8,"title":"雇主有未描述清楚的或额外的要求，您可以进行记录","type":3,"enable":1,"itemNdtos":[{"id":31,"cfgId":8,"seq":1,"displayTxt":"","allowInput":1,"enable":1}]}],"success":true}



首次跟单
FollowFirstService.addFirstFollow
request:
{"data":{"taskId":20,"worksId":20,"userId":100,"userRole":2,"contactType":1,"followFirstValNdtoList":[{"questionId":1,"answerId":1,"answerTxt":""},{"questionId":2,"answerId":1,"answerTxt":""},{"questionId":3,"answerId":2,"answerTxt":""},{"questionId":4,"answerId":0,"answerTxt":"给我要钱"}]}}
result:
{"success":true}


二次跟单
FollowSecondService.addSecondFollow
request:
{"data":{"taskId":81,"worksId":82,"userId":80,"userRole":2,"followSecondValNdtoList":[{"questionId":1,"answerId":1,"answerTxt":"","selected":1},{"questionId":2,"answerId":1,"answerTxt":"","selected":1},{"questionId":3,"answerId":0,"answerTxt":"2015-09-21","selected":1}]}}
result:
{"success":true}
{"success":false,"code":"1","description":"参数错误"}

申请协助
AsisstService.addAssist
request:
{"data":{"taskId":120,"worksId":121,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"assistItemNdtoList":[{"formCfgId":3,"relationId":12,"inputTxt":"","displayTxt":""},{"formCfgId":3,"relationId":16,"inputTxt":"我需要最终的需求","displayTxt":""},{"formCfgId":3,"relationId":18,"inputTxt":"这个雇主需求不明确","displayTxt":""}]}}
result:
{"success":true}

对协助数据回复
AsisstService.reply
request:
{"data":{"recordId":1,"userId":1001,"userRole":3,"replyContent":"我们已经联系了雇主"}}
result:
{"success":true}

标记协助为已处理
AsisstService.markDeal
request:
{"data":{"recordId":1,"state":1}}
result:
{"success":true}

获取交易顾问的协助列表
AssistService.getAssistForAdviser
request:
{"data":{"adviser":90,"state":0,"offset":0,"rows":2}}
result:
{"data":{"total":3,"dataList":[{"id":3,"taskId":120,"worksId":121,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"content":[{"relationId":12,"inputTxt":"","displayTxt":"联系不上雇主"},{"relationId":16,"inputTxt":"我需要最终的需求","displayTxt":"雇主需求有变更，申请帮我编辑成最终确认的需求内容"},{"relationId":18,"inputTxt":"这个雇主需求不明确","displayTxt":"其他"}],"createTime":1442653414,"createDate":"Sep 19, 2015 12:00:00 AM","reply":0,"state":0,"followTime":0},{"id":2,"taskId":100,"worksId":101,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"content":[{"relationId":12,"inputTxt":"","displayTxt":""},{"relationId":16,"inputTxt":"我需要最终的需求","displayTxt":""},{"relationId":18,"inputTxt":"这个雇主需求不明确","displayTxt":""}],"createTime":1442652900,"createDate":"Sep 19, 2015 12:00:00 AM","reply":0,"state":0,"followTime":0}]},"success":true}

用户的协助申请以及回复列表
AssistService.getAssistForUser
request:
{"data":{"userId":900,"state":0,"offset":0,"rows":3}}
result:
{"data":{"total":3,"dataList":[{"id":3,"taskId":120,"worksId":121,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"createTime":1442653414,"createDate":"Sep 19, 2015 12:00:00 AM","reply":0,"state":0,"followTime":0},{"id":2,"taskId":100,"worksId":101,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"createTime":1442652900,"createDate":"Sep 19, 2015 12:00:00 AM","reply":0,"state":0,"followTime":0},{"id":1,"taskId":90,"worksId":91,"userId":900,"userRole":2,"adviser":90,"formCfgId":3,"assistReplyDetailNdtoList":[{"id":1,"recordId":1,"userId":1001,"userRole":3,"replyContent":"已经受理","createTime":1442654961,"createDate":"Sep 19, 2015 12:00:00 AM"},{"id":2,"recordId":1,"userId":1001,"userRole":3,"replyContent":"我们已经联系了雇主","createTime":1442655058,"createDate":"Sep 19, 2015 12:00:00 AM"}],"createTime":1442652674,"createDate":"Sep 19, 2015 12:00:00 AM","reply":0,"state":0,"followTime":0}]},"success":true}

填写跟进记录
SecretaryService.manualAdd
request:
{"data":{"taskId":100,"workId":100,"userId":90,"userRole":1,"content":"第三条跟进记录"}}
result:
{"success":true}

获取跟单小助手数据
SecretaryService.getSecretaryList
request:
{"data":{"taskId":100,"workId":100,"userId":90,"userRole":1,"offset":0,"rows":5}}
result:
{"data":{"total":3,"dataList":[{"id":3,"taskId":100,"workId":100,"userId":90,"userRole":1,"secType":1,"content":"第三条跟进记录","createTime":1442737672,"createDate":"Sep 20, 2015 12:00:00 AM","outId":0},{"id":2,"taskId":100,"workId":100,"userId":90,"userRole":1,"secType":1,"content":"第二条跟进记录","createTime":1442735431,"createDate":"Sep 20, 2015 12:00:00 AM","outId":0},{"id":1,"taskId":100,"workId":100,"userId":90,"userRole":1,"secType":1,"content":"我今天来过此处填写跟进记录","createTime":1442735353,"createDate":"Sep 20, 2015 12:00:00 AM","outId":0}]},"success":true}

添加各种原因接口
注意：原因填写的表单通过（WtCommonService.getFormById）通用表单获取
ReasonService.addReasonRecord
request:
{"data":{"taskId":100,"worksId":100,"userId":90,"userRole":1,"formCfgId":1,"reasonRecordNdtoList":[{"formCfgId":1,"relationId":1,"inputTxt":""},{"formCfgId":1,"relationId":2,"inputTxt":""},{"formCfgId":1,"relationId":3,"inputTxt":""},{"formCfgId":1,"relationId":4,"inputTxt":""},{"formCfgId":1,"relationId":6,"inputTxt":"我填写的其他原因,地域限制"}]}}
result:
{"success":true}

获取原因的统计
ReasonService.getReasonStatByTaskId
request:
{"data":20}
result:
{"data":[{"id":1,"taskId":20,"itemId":3,"statNum":2,"itemName":"需求价格偏低"},{"id":2,"taskId":20,"itemId":2,"statNum":2,"itemName":"未联系到雇主"}],"success":true}
